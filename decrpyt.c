#include <stdio.h>
#include <stdlib.h>
#include "file.h"
#include <string.h>

int main(int argc, char* argv[])
{
        if(argc != 2) return 1;
        char* buffer;
        int buffersize;
        char clef[] = "MVQzG";
        buffer = lireFichier(argv[1], &buffersize);
        // int decalage = atoi(argv[2]);
        // chiffrementDecalage(buffer, buffersize, decalage);  
        // clef = genkey(keysize);
        //  for(int i = 0 ; i < atoi(argv[2]); i++){
        //  printf("%c", clef[i]); 
        //  }
        //  printf("\n");
        XOR(buffer, buffersize, clef, strlen(clef));
        ecrireFichier(argv[1], buffer, buffersize);
        
        for(int i = 0 ; i < strlen(clef); i++){
                printf("%c", clef[i]); 
        }
        
return 0;
